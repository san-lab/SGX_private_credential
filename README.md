# SGX_private_credential

This project was meant as a demo for Dalion to try a new credential model while keeping the anonimity of the intermediate user at any momment.
It consists on 3 apps one for each of the 3 different actors. Each of the apps has its own folder on this repo with the same name, containing a GUI which includes most of the functionality.
- User App: Consist on the normal user of the app the one who asks for a credential to the Issuer and shares that credential with the Service Provider. This apps allows to create a credential request that will be listened by the Issuer app and generate the corresponding credential and later when it gets the actual credential sharing it with the service provider.
- Issuer App: Consist on the app of the actor in charge of taking the requests from the user and generating the corresponding credentials. At the same time it signs the credential itself and encripts the signature inside SGX, as well as the user info so it cannot know who is the owner of the credential.
- Service Provider App: Consist on the app of the actor who wants some information from the normal user and is the one getting the credential after it was generated by the user and passed through the intermidiate user.

### Prerequisites.
```
pip3 install ECPy
pip3 install python-tk 
pip3 install pycryptodome
pip3 install -U python-dotenv
```
### How to execute the project.
In order to run the project you first need to move inside the "credentialSharingRPC" folder and execute.
```
python3 server.py
```
This will run the RPC server that is the channel that is used by the apps to communicate ammong them.
After that all you need to do is to execute all 3 apps.
IssuerApp
```
cd IssuerApp
python3 Issuer_GUI.py
```
UserApp
```
cd UserApp
python3 User_GUI.py
```
ServiceProviderApp
```
cd ServiceProviderApp
python3Service_GUI.py
```
You will see you have now all 3 apps running.

### How to reset the apps memories
The apps have a file to store the information between executions, in case you want to reset the so they are empty you need to execute.
```
cd utilities
python3 cleanLists.py
```